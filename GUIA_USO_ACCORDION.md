# ğŸ¯ GuÃ­a de Uso - Nueva Interfaz de Estructuras (AcordeÃ³n)

## ğŸ“– IntroducciÃ³n

La interfaz de gestiÃ³n de estructuras ha sido completamente rediseÃ±ada con un formato de acordeÃ³n moderno que mejora significativamente la usabilidad y experiencia del usuario.

---

## ğŸ® CÃ³mo Usar la Interfaz

### 1ï¸âƒ£ **Abrir/Cerrar Secciones (AcordeÃ³n)**

```
ANTES:
DebÃ­as hacer clic en pestaÃ±as individuales:
[Ciudades] [Canales] [Sucursales] [Cargos]

AHORA:
Haz clic directamente en la secciÃ³n que quieres abrir:
```

**Pasos:**
1. En el dashboard, ve a **FairPlay LMS > Estructuras**
2. Haz clic en cualquiera de estos encabezados:
   - ğŸ“ Ciudades
   - ğŸª Canales/Franquicias
   - ğŸ¢ Sucursales
   - ğŸ‘” Cargos

3. El acordeÃ³n se expandirÃ¡ mostrando todos los tÃ©rminos
4. Haz clic nuevamente para cerrarlo

**ğŸ’¡ Nota**: Solo puedes tener una secciÃ³n abierta a la vez para mantener la interfaz limpia.

---

### 2ï¸âƒ£ **Crear un Nuevo Elemento**

**Para Ciudades:**

1. Abre la secciÃ³n ğŸ“ **Ciudades**
2. DesplÃ¡zate hacia abajo hasta la secciÃ³n "â• Agregar Nueva Ciudad"
3. Escribe el nombre en el campo de texto
4. Marca si debe estar **Activo** (recomendado)
5. Haz clic en **GUARDAR**
6. Se recargarÃ¡ la pÃ¡gina y el nuevo elemento aparecerÃ¡ en la lista

**Para Canales, Sucursales o Cargos:**

1. Abre la secciÃ³n correspondiente
2. DesplÃ¡zate al formulario "â• Agregar Nuevo..."
3. **Nombre**: Escribe el nombre del elemento
4. **Ciudades Relacionadas**: Haz clic en el campo y selecciona una o mÃ¡s ciudades
   - AparecerÃ¡n como "tags" azules debajo del campo
   - Para quitar una ciudad, haz clic en ella
5. Marca si debe estar **Activo**
6. Haz clic en **GUARDAR**

---

### 3ï¸âƒ£ **Editar un Elemento**

1. Encuentra el elemento que quieres editar en la lista
2. Haz clic en el botÃ³n **âœï¸ (Editar)**
3. Se abrirÃ¡ un modal con los campos para editar
4. **Nombre**: Modifica el nombre si necesario
5. **Ciudades** (si aplica): Actualiza las ciudades relacionadas
6. Haz clic en **Guardar Cambios**
7. Se cerrarÃ¡ el modal y se guardarÃ¡

---

### 4ï¸âƒ£ **Cambiar Estado (Activo/Inactivo)**

Cada elemento tiene un botÃ³n **âŠ™â—‹** (toggle) para activar/desactivar:

1. Busca el elemento en la lista
2. Haz clic en el botÃ³n **âŠ™â—‹**
3. El elemento cambiarÃ¡ de:
   - âœ“ Activo â†’ âœ— Inactivo
   - âœ— Inactivo â†’ âœ“ Activo
4. Se guardarÃ¡ inmediatamente

**Â¿CuÃ¡ndo usar esto?**
- Desactiva temporalmente sin eliminar
- Mantiene historial de datos
- Ãštil para auditorÃ­a

---

### 5ï¸âƒ£ **Eliminar un Elemento**

âš ï¸ **CUIDADO**: Esta acciÃ³n no se puede deshacer

1. Encuentra el elemento que quieres eliminar
2. Haz clic en el botÃ³n **ğŸ—‘ï¸ (Eliminar)**
3. AparecerÃ¡ una ventana de confirmaciÃ³n con:
   - El nombre del elemento a eliminar
   - Advertencia: "Esta acciÃ³n no se puede deshacer"
   - Dos botones: **Cancelar** o **Eliminar Definitivamente**
4. Si haces clic en **Eliminar Definitivamente**:
   - El elemento se borrarÃ¡ completamente
   - Se eliminarÃ¡n sus relaciones con otras estructuras
   - No se puede recuperar

---

## ğŸ¨ Entendiendo los Colores y SÃ­mbolos

### Emojis de Secciones
| Emoji | SecciÃ³n | Color |
|-------|---------|-------|
| ğŸ“ | Ciudades | Azul |
| ğŸª | Canales/Franquicias | Verde |
| ğŸ¢ | Sucursales | Naranja |
| ğŸ‘” | Cargos | PÃºrpura |

### Indicadores de Estado
| SÃ­mbolo | Significado |
|---------|------------|
| âœ“ Activo | El elemento estÃ¡ disponible y visible |
| âœ— Inactivo | El elemento estÃ¡ deshabilitado |
| (5) | NÃºmero de elementos en esa secciÃ³n |

### Botones de AcciÃ³n
| BotÃ³n | AcciÃ³n | Color |
|-------|--------|-------|
| âŠ™â—‹ | Activar/Desactivar | Verde |
| âœï¸ | Editar | Azul |
| ğŸ—‘ï¸ | Eliminar | Rojo |

---

## ğŸ“± Dispositivos MÃ³viles

### En Smartphone (< 480px):
- El acordeÃ³n se adapta al ancho de la pantalla
- Los botones se apilan verticalmente debajo de cada elemento
- Toca directamente en el elemento para acciones
- MÃ¡s fÃ¡cil de usar con dedos

### En Tablet (480px - 768px):
- Layout semi-responsivo
- Botones horizontales pero con mÃ¡s espacio
- Formularios adaptados a pantalla mÃ¡s pequeÃ±a

### En Desktop (> 768px):
- Experiencia completa con todos los elementos visibles
- Botones en lÃ­nea
- Formularios amplios

---

## âš¡ Tips y Trucos

### ğŸ’¡ Crear MÃºltiples Ciudades RÃ¡pidamente
1. Abre Ciudades
2. Agrega primera ciudad y guarda
3. AutomÃ¡ticamente la secciÃ³n se recarga
4. Repite el proceso con la siguiente

### ğŸ’¡ Vincular Canales a Ciudades
1. Abre la secciÃ³n de Canales
2. Cuando crees/edites un canal, selecciona **las ciudades** donde operarÃ¡
3. Esto es importante para la visibilidad de cursos

### ğŸ’¡ Desactivar en lugar de Eliminar
Si no estÃ¡s seguro de eliminar un elemento:
1. Usa el botÃ³n **âŠ™â—‹** para desactivarlo primero
2. Verifica que no causa problemas
3. Luego puedes eliminarlo con seguridad

### ğŸ’¡ Orden de CreaciÃ³n Recomendado
1. Primero: Crear todas las **Ciudades**
2. Segundo: Crear **Canales** y vincularlos a ciudades
3. Tercero: Crear **Sucursales** si aplica
4. Cuarto: Crear **Cargos** de usuario

---

## âŒ Errores Comunes y Soluciones

### â“ "El campo de Ciudades no aparece"
**RazÃ³n**: Solo aparece para Canales, Sucursales y Cargos, no para Ciudades
**SoluciÃ³n**: AsegÃºrate de estar editando el elemento correcto

### â“ "No puedo agregar un CanÃ¡l sin Ciudades"
**RazÃ³n**: Un canal debe estar vinculado a al menos una ciudad
**SoluciÃ³n**: Selecciona una o mÃ¡s ciudades en el campo de selecciÃ³n

### â“ "EliminÃ© algo por accidente"
**RazÃ³n**: No hay papelera de reciclaje, se elimina permanentemente
**SoluciÃ³n**: Pide a un administrador que restaure de backup o recrea el elemento

### â“ "Los cambios no se guardan"
**RazÃ³n**: Posible problema de nonce/sesiÃ³n
**SoluciÃ³n**: Recarga la pÃ¡gina y vuelve a intentar

---

## ğŸ” Permisos Requeridos

Para acceder a esta secciÃ³n necesitas:
- âœ… Ser administrador de WordPress
- âœ… Tener capacidad `fplms_manage_structures`
- âœ… Estar autenticado en el sitio

Si no ves la opciÃ³n "Estructuras", contacta con el administrador.

---

## ğŸ“Š Impacto en el Sistema

### Cuando creas/editas estructuras:
- Actualiza la disponibilidad de cursos en el frontend
- Cambia la visibilidad segÃºn ciudades/canales
- Afecta los reportes de usuarios asignados

### Cuando desactivas:
- El elemento no aparece en selects nuevos
- Usuarios existentes mantienen su asignaciÃ³n
- Se puede reactivar sin perder datos

### Cuando eliminas:
- Se borra completamente del sistema
- Usuarios vinculados pierden esa asignaciÃ³n
- No se puede deshacer

---

## ğŸ“ Ejemplos PrÃ¡cticos

### Ejemplo 1: Agregar Nueva Sucursal

```
1. Dashboard > FairPlay LMS > Estructuras
2. Clic en "ğŸ¢ Sucursales" para expandir
3. DesplÃ¡zate al formulario "â• Agregar Nueva Sucursal"
4. Nombre: "Sucursal Centro"
5. Ciudades Relacionadas: Haz clic y selecciona "Madrid"
6. Marca "Activo"
7. Clic en "GUARDAR"
âœ… Sucursal creada y vinculada a Madrid
```

### Ejemplo 2: Cambiar de Inactivo a Activo

```
1. Abre la secciÃ³n donde estÃ¡ el elemento
2. Busca el elemento (tendrÃ¡ un "âœ— Inactivo")
3. Haz clic en el botÃ³n "âŠ™â—‹"
4. VerÃ¡s que cambiÃ³ a "âœ“ Activo"
âœ… El elemento ahora es visible en el sistema
```

### Ejemplo 3: Actualizar VinculaciÃ³n de Ciudades

```
1. En Canales, busca "Canal Premium"
2. Haz clic en "âœï¸ Editar"
3. En el modal, haz clic en "Ciudades Relacionadas"
4. Desselecciona "Barcelona" y selecciona "Valencia"
5. Haz clic en "Guardar Cambios"
âœ… El canal ahora solo estÃ¡ en Madrid y Valencia
```

---

## ğŸ“ Soporte

Si encuentras problemas:

1. **Recarga la pÃ¡gina** (Ctrl+F5 para limpiar cachÃ©)
2. **Verifica tu conexiÃ³n** a internet
3. **Prueba en navegador diferente**
4. **Contacta al administrador** si persiste

**InformaciÃ³n Ãºtil para reportar:**
- Navegador y versiÃ³n
- QuÃ© elemento estabas editando
- QuÃ© paso exacto fallÃ³
- Mensaje de error (si hay)

---

## ğŸš€ Novedades de Esta VersiÃ³n

âœ¨ **Nuevo DiseÃ±o**
- AcordeÃ³n en lugar de pestaÃ±as
- Mejor organizaciÃ³n visual

âœ¨ **Nueva Funcionalidad de EliminaciÃ³n**
- BotÃ³n ğŸ—‘ï¸ para borrar elementos
- Modal de confirmaciÃ³n para seguridad
- Limpieza automÃ¡tica de relaciones

âœ¨ **Mejor Responsividad**
- Funciona perfecto en mÃ³viles
- Adaptable a cualquier tamaÃ±o
- Experiencia mejorada en tablet

âœ¨ **UX Mejorada**
- Colores para identificar secciones
- Iconos intuitivos
- Animaciones suaves
- Feedback visual claro

---

**Â¿Preguntas?** Consulta la secciÃ³n de [Errores Comunes](#errores-comunes-y-soluciones) o contacta al administrador.

**Ãšltima actualizaciÃ³n**: 2024  
**VersiÃ³n**: 1.0
